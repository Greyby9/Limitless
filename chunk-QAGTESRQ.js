import{$ as ae,Ba as $,Ca as de,Da as pe,E as re,Ea as fe,Fa as v,Ga as j,H as ie,Ha as O,Ja as E,K as x,Ka as W,La as me,Ma as L,P as l,R as U,W as se,Wa as N,X as D,Xa as R,Ya as C,Z as ce,a as Z,ba as y,c as _,ca as h,f as ee,h as te,ha as ue,hb as be,m as S,o as oe,oa as le,ra as k,wa as P,x as ne}from"./chunk-UXQPES63.js";import{a as g}from"./chunk-2VMXMS7J.js";function I(e){e||(D(I),e=l(h));let o=new _(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(ie(o))}function F(e,o){!o?.injector&&D(F);let t=o?.injector??l(y),n=new te(1),i=C(()=>{let d;try{d=e()}catch(b){R(()=>n.error(b));return}R(()=>n.next(d))},{injector:t,manualCleanup:!0});return t.get(h).onDestroy(()=>{i.destroy(),n.complete()}),n.asObservable()}function J(e,o,t){!o&&D(e);let n=o??l(y);return t?se(n,t):n}function w(e,...o){let[t,n,i,d,b]=je(o);if(t){let a=null;return i instanceof h?a=i:a=J(w,i).get(h),t.pipe(I(a)).subscribe(s=>{let p=()=>{e.update(r=>{if(!T(r))return n?.(r,s)||s;if(!T(s)){let f=n?n(r,s):s;return T(f)?g(g({},r),f):f}return g(g({},r),n?.(r,s)||s)})};d?R(p):p()})}if(b){let a=i instanceof y?J(w,i):void 0;return C(()=>{e.update(s=>T(s)?g(g({},s),b()):b())},{allowSignalWrites:!0,injector:a})}return{with(...a){if(!this.subscription)this.subscription=new Z;else if(this.subscription.closed)return console.info("[ngxtension connect] ConnectedSignal has been closed."),this;return this.subscription.add(w(e,...a,i,d)),this},subscription:null}}function je(e){return e.length>3?[e[0],e[1],e[2],e[3],null]:e.length===3?typeof e[2]=="boolean"?S(e[0])?[e[0],null,e[1],e[2],null]:[null,null,e[1],e[2],e[0]]:[e[0],e[1],e[2],!1,null]:e.length===2?typeof e[1]=="boolean"?[null,null,e[0],e[1],null]:typeof e[1]=="function"?[e[0],e[1],null,!1,null]:[e[0],null,e[1],!1,null]:S(e[0])?[e[0],null,null,!1,null]:typeof e[0]=="function"?[null,null,null,!1,e[0]]:[null,null,e[0],!1,null]}function T(e){return typeof e=="object"&&e!==void 0&&e!==null&&!Array.isArray(e)}function ye(){let e=P(0);return{notify:()=>{e.update(o=>(o>>>0)+1)},listen:e.asReadonly()}}function ge(e){let o=l(h),t=l(y),{initialState:n,sources:i=[],lazySources:d=[],actionSources:b={},selectors:a=()=>({}),effects:s=()=>({})}=e,p=P(n),r=p.asReadonly(),f=F(p),Q=!1,G=[],q=r;for(let[c,u]of Object.entries(b))if(S(u))ve(r,f,c,o,u,G);else{let m=new ee,Y=u(r,m).pipe(re());w(p,Y),ve(r,f,c,o,m,G,Y)}for(let c in n){let u=N(()=>r()[c]);Object.defineProperty(r,c,{value:u}),r[`${c}$`]=F(u)}for(let[c,u]of Object.entries(a(q))){let m=N(u);Object.defineProperty(r,c,{value:m}),r[`${c}$`]=F(m)}for(let[c,u]of Object.entries(s(q)))console.warn("The 'effects' configuration in signalSlice is deprecated. Please use standard signal effects outside of signalSlice instead."),Object.defineProperty(q,c,{value:C(m=>{let V=u();V&&m(()=>V())})});he(p,i,r),o.onDestroy(()=>{G.forEach(c=>c.complete())});let X=()=>{Q||(Q=!0,he(p,d,r,t,!0))};return new Proxy(q,{get(c,u,m){return X(),Reflect.get(c,u,m)},apply(c,u,m){return X(),Reflect.apply(c,u,m)}})}function he(e,o,t,n,i=!1){for(let d of o)S(d)?w(e,d,n,i):w(e,d(t),n,i)}function ve(e,o,t,n,i,d,b){let a=ye();Object.defineProperties(e,{[t]:{value:s=>S(s)?new Promise((p,r)=>{s.pipe(I(n)).subscribe({next:f=>{a.notify(),i.next(f)},error:f=>{i.error(f),r(f)},complete:()=>{a.notify(),i.complete(),p(e())}})}):(b&&b.pipe(I(n)).subscribe(),new Promise(p=>{o.pipe(ne(1)).subscribe(r=>{p(r)}),a.notify(),i.next(s)}))},[`${t}$`]:{value:i.asObservable()},[`${t}Updated`]:{value:a.listen}}),d.push(i)}var Se={API_URL:"https://fakestoreapi.com"};var z=class e{http=l(be);apiUrl=Se.API_URL;static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var B=class e extends z{getProduto(){return this.http.get(`${this.apiUrl}/products`)}static \u0275fac=(()=>{let o;return function(n){return(o||(o=ae(e)))(n||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};var M=class e{produtoService=l(B);initialState={produtos:[],estado:"loading"};state=ge({initialState:this.initialState,sources:[this.produtoService.getProduto().pipe(oe(o=>({produtos:o,estado:"success"})))]});static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})};var H=class e{produto=ue.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=U({type:e,selectors:[["app-produto-cartao"]],inputs:{produto:[1,"produto"]},standalone:!0,features:[L],decls:13,vars:3,consts:[[1,"max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700"],["href","#"],["alt","",1,"rounded-t-lg","h-60","w-full","object-contain","object-center",3,"src"],[1,"p-5"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white","line-clamp-1"],[1,"mb-3","font-normal","text-gray-700","dark:text-gray-400","line-clamp-3"],["href","#",1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-center","text-white","bg-blue-700","rounded-lg","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"rtl:rotate-180","w-3.5","h-3.5","ms-2"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"]],template:function(t,n){t&1&&(v(0,"div",0)(1,"picture",1),O(2,"img",2),j(),v(3,"div",3)(4,"a",1)(5,"h5",4),E(6),j()(),v(7,"p",5),E(8),j(),v(9,"a",6),E(10," Read more "),ce(),v(11,"svg",7),O(12,"path",8),j()()()()),t&2&&(k(2),$("src",n.produto().image,le),k(4),W(n.produto().title),k(2),W(n.produto().description))}})};function xe(e,o){if(e&1&&O(0,"app-produto-cartao",2),e&2){let t=o.$implicit;$("produto",t)}}var K=class e{productsState=l(M);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=U({type:e,selectors:[["app-produto-lista"]],standalone:!0,features:[me([M]),L],decls:4,vars:0,consts:[[1,"mx-auto","max-w-screen-xl"],[1,"grid","grid-cols-[repeat(4,300px)]","gap-6"],[1,"block",3,"produto"]],template:function(t,n){t&1&&(v(0,"div",0)(1,"div",1),pe(2,xe,1,1,"app-produto-cartao",2,de),j()()),t&2&&(k(2),fe(n.productsState.state().produtos))},dependencies:[H]})};export{K as default};
